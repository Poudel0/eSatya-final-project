{"abi":[{"type":"constructor","inputs":[{"name":"_asset","type":"address","internalType":"address"},{"name":"_priceFeed","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"asset","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IERC20"}],"stateMutability":"view"},{"type":"function","name":"closePosition","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"deposit","inputs":[{"name":"_amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getCollateralRequirement","inputs":[{"name":"_size","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPrice","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getTestNumber","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"pure"},{"type":"function","name":"increasePositionCollateral","inputs":[{"name":"_additionalCollateral","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"increasePositionSize","inputs":[{"name":"_additionalSize","type":"uint256","internalType":"uint256"},{"name":"_additionalCollateral","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"multiplier","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"openPosition","inputs":[{"name":"_size","type":"uint256","internalType":"uint256"},{"name":"_collateral","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"positions","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"positionType","type":"uint8","internalType":"enum PositionType"},{"name":"size","type":"uint256","internalType":"uint256"},{"name":"collateral","type":"uint256","internalType":"uint256"},{"name":"entryPrice","type":"uint256","internalType":"uint256"},{"name":"isClosed","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"withdraw","inputs":[{"name":"_amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"PositionClosed","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"size","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"collateral","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PositionDecreased","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"size","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"collateral","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PositionIncreased","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"size","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"collateral","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PositionOpened","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"size","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"collateral","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PositionSettled","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"size","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"collateral","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"deposited","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"withdrawn","inputs":[{"name":"account","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"InsufficientCollateral","inputs":[{"name":"required","type":"uint256","internalType":"uint256"},{"name":"available","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"PositionNotOpen","inputs":[]},{"type":"error","name":"PositionNotSettled","inputs":[]}],"bytecode":{"object":"0x60806040526402540be400600255605060035534801561001e57600080fd5b50604051610e34380380610e3483398101604081905261003d9161013f565b816001600160a01b0381166100995760405162461bcd60e51b815260206004820152601860248201527f5a65726f2061646472657373206e6f7420616c6c6f776564000000000000000060448201526064015b60405180910390fd5b816001600160a01b0381166100f05760405162461bcd60e51b815260206004820152601860248201527f5a65726f2061646472657373206e6f7420616c6c6f77656400000000000000006044820152606401610090565b5050600180546001600160a01b039384166001600160a01b03199182161790915560008054929093169116179055610172565b80516001600160a01b038116811461013a57600080fd5b919050565b6000806040838503121561015257600080fd5b61015b83610123565b915061016960208401610123565b90509250929050565b610cb3806101816000396000f3fe608060405234801561001057600080fd5b50600436106100b45760003560e01c806371d0e6af1161007157806371d0e6af1461018f57806398d5fdca146101a2578063aeb71b07146101aa578063b2d62421146101b1578063b6b55f25146101c4578063c393d0e3146101d757600080fd5b80631b3ed722146100b957806328b51920146100d55780632e1a7d4d146100ea5780633012b05c146100fd57806338d52e0f1461011057806355f575101461013b575b600080fd5b6100c260025481565b6040519081526020015b60405180910390f35b6100e86100e3366004610a31565b6101df565b005b6100e86100f8366004610a53565b61037a565b6100e861010b366004610a31565b610444565b600154610123906001600160a01b031681565b6040516001600160a01b0390911681526020016100cc565b61017e610149366004610a6c565b60046020819052600091825260409091208054600182015460028301546003840154939094015460ff92831694919391921685565b6040516100cc959493929190610ab2565b6100e861019d366004610a53565b610614565b6100c2610707565b60026100c2565b6100c26101bf366004610a53565b610780565b6100e86101d2366004610a53565b6107a7565b6100e861086c565b8181101561022e5760405162461bcd60e51b8152602060048201526017602482015276125b9cdd59999a58da595b9d0818dbdb1b185d195c985b604a1b60448201526064015b60405180910390fd5b60035461023b8284610b0d565b11156102595760405162461bcd60e51b815260040161022590610b2f565b6001546040516323b872dd60e01b81526001600160a01b03909116906323b872dd9061028d90339030908690600401610b75565b6020604051808303816000875af11580156102ac573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102d09190610b99565b6102ec5760405162461bcd60e51b815260040161022590610bbb565b336000908152600460205260408120600101805484929061030e908490610be4565b90915550503360009081526004602052604081206002018054839290610335908490610be4565b9091555050604080518381526020810183905233917f804a14c1afdd6a423b6ff0bb6e2538ebd76b761e9bfdc9c7009df72bf158a52f91015b60405180910390a25050565b60015460405163a9059cbb60e01b8152336004820152602481018390526001600160a01b039091169063a9059cbb906044016020604051808303816000875af11580156103cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103ef9190610b99565b61040b5760405162461bcd60e51b815260040161022590610bbb565b60405181815233907f6fb24f3ad0678f9d138e80b17293be051d87911eb34e9e60f0d1b9c3805e885a906020015b60405180910390a250565b8181101561048e5760405162461bcd60e51b8152602060048201526017602482015276125b9cdd59999a58da595b9d0818dbdb1b185d195c985b604a1b6044820152606401610225565b60035461049b8284610b0d565b11156104b95760405162461bcd60e51b815260040161022590610b2f565b6001546040516323b872dd60e01b81526001600160a01b03909116906323b872dd906104ed90339030908690600401610b75565b6020604051808303816000875af115801561050c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105309190610b99565b61054c5760405162461bcd60e51b815260040161022590610bbb565b6040805160a081018252600080825260208083018690528284018590526060830182905260808301829052338252600490529190912081518154829060ff19166001838181111561059f5761059f610a9c565b021790555060208281015160018301556040808401516002840155606084015160038401556080909301516004909201805460ff191692151592909217909155815184815290810183905233917fc491b8e6940cb48fcf9cf813c35e2d45fad221af7d5f4ce18d77dc576e5bf220910161036e565b6001546040516323b872dd60e01b81526001600160a01b03909116906323b872dd9061064890339030908690600401610b75565b6020604051808303816000875af1158015610667573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061068b9190610b99565b6106a75760405162461bcd60e51b815260040161022590610bbb565b33600090815260046020526040812060020180548392906106c9908490610be4565b909155505060408051600081526020810183905233917f804a14c1afdd6a423b6ff0bb6e2538ebd76b761e9bfdc9c7009df72bf158a52f9101610439565b6000805460408051633fabe5a360e21b8152905183926001600160a01b03169163feaf968c9160048083019260a09291908290030181865afa158015610751573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107759190610c16565b509195945050505050565b600060025461078d610707565b6107979084610c66565b6107a19190610c66565b92915050565b6001546040516323b872dd60e01b81526001600160a01b03909116906323b872dd906107db90339030908690600401610b75565b6020604051808303816000875af11580156107fa573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061081e9190610b99565b61083a5760405162461bcd60e51b815260040161022590610bbb565b60405181815233907f688e89c1496876b0d792df75671fbe827183660b170bb8983d82511a6a4b7d1b90602001610439565b3360009081526004602081905260409091209081015460ff166108c75760405162461bcd60e51b8152602060048201526013602482015272141bdcda5d1a5bdb881b9bdd0818db1bdcd959606a1b6044820152606401610225565b6001815460ff1660018111156108df576108df610a9c565b146109215760405162461bcd60e51b8152602060048201526012602482015271141bdcda5d1a5bdb881b9bdd081cda1bdc9d60721b6044820152606401610225565b600154600282015460405163a9059cbb60e01b815233600482015260248101919091526001600160a01b039091169063a9059cbb906044016020604051808303816000875af1158015610978573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061099c9190610b99565b6109b85760405162461bcd60e51b815260040161022590610bbb565b336000818152600460208181526040808420805460ff19908116825560018083018790556002808401889055600384019790975591909401805490941690935591850154928501548251938452908301527fc8469f8998427d0814b7efed804617bd8c43dfdfb3c6780d28a03ecf361fb6989101610439565b60008060408385031215610a4457600080fd5b50508035926020909101359150565b600060208284031215610a6557600080fd5b5035919050565b600060208284031215610a7e57600080fd5b81356001600160a01b0381168114610a9557600080fd5b9392505050565b634e487b7160e01b600052602160045260246000fd5b60a0810160028710610ad457634e487b7160e01b600052602160045260246000fd5b958152602081019490945260408401929092526060830152151560809091015290565b634e487b7160e01b600052601160045260246000fd5b600082610b2a57634e487b7160e01b600052601260045260246000fd5b500490565b60208082526026908201527f45786365656473206d6178696d756d207574696c697a6174696f6e2070657263604082015265656e7461676560d01b606082015260800190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b600060208284031215610bab57600080fd5b81518015158114610a9557600080fd5b6020808252600f908201526e151c985b9cd9995c8819985a5b1959608a1b604082015260600190565b808201808211156107a1576107a1610af7565b805169ffffffffffffffffffff81168114610c1157600080fd5b919050565b600080600080600060a08688031215610c2e57600080fd5b610c3786610bf7565b9450602086015193506040860151925060608601519150610c5a60808701610bf7565b90509295509295909350565b80820281158282048414176107a1576107a1610af756fea264697066735822122094ec214cfdb4a4fe73534639e1bdc2c5c419e7e1a57ed9039452ec252fb24b4a64736f6c63430008140033","sourceMap":"497:4110:36:-:0;;;1392:4;1364:32;;1437:2;1402:37;;1655:229;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1719:6;-1:-1:-1;;;;;1580:22:36;;1572:59;;;;-1:-1:-1;;;1572:59:36;;696:2:43;1572:59:36;;;678:21:43;735:2;715:18;;;708:30;774:26;754:18;;;747:54;818:18;;1572:59:36;;;;;;;;;1742:10;-1:-1:-1;;;;;1580:22:36;::::1;1572:59;;;::::0;-1:-1:-1;;;1572:59:36;;696:2:43;1572:59:36::1;::::0;::::1;678:21:43::0;735:2;715:18;;;708:30;774:26;754:18;;;747:54;818:18;;1572:59:36::1;494:348:43::0;1572:59:36::1;-1:-1:-1::0;;1763:5:36::2;:22:::0;;-1:-1:-1;;;;;1763:22:36;;::::2;-1:-1:-1::0;;;;;;1763:22:36;;::::2;;::::0;;;:5:::2;1832:45:::0;;;;;::::2;::::0;::::2;;::::0;;497:4110;;14:177:43;93:13;;-1:-1:-1;;;;;135:31:43;;125:42;;115:70;;181:1;178;171:12;115:70;14:177;;;:::o;196:293::-;275:6;283;336:2;324:9;315:7;311:23;307:32;304:52;;;352:1;349;342:12;304:52;375:40;405:9;375:40;:::i;:::-;365:50;;434:49;479:2;468:9;464:18;434:49;:::i;:::-;424:59;;196:293;;;;;:::o;494:348::-;497:4110:36;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106100b45760003560e01c806371d0e6af1161007157806371d0e6af1461018f57806398d5fdca146101a2578063aeb71b07146101aa578063b2d62421146101b1578063b6b55f25146101c4578063c393d0e3146101d757600080fd5b80631b3ed722146100b957806328b51920146100d55780632e1a7d4d146100ea5780633012b05c146100fd57806338d52e0f1461011057806355f575101461013b575b600080fd5b6100c260025481565b6040519081526020015b60405180910390f35b6100e86100e3366004610a31565b6101df565b005b6100e86100f8366004610a53565b61037a565b6100e861010b366004610a31565b610444565b600154610123906001600160a01b031681565b6040516001600160a01b0390911681526020016100cc565b61017e610149366004610a6c565b60046020819052600091825260409091208054600182015460028301546003840154939094015460ff92831694919391921685565b6040516100cc959493929190610ab2565b6100e861019d366004610a53565b610614565b6100c2610707565b60026100c2565b6100c26101bf366004610a53565b610780565b6100e86101d2366004610a53565b6107a7565b6100e861086c565b8181101561022e5760405162461bcd60e51b8152602060048201526017602482015276125b9cdd59999a58da595b9d0818dbdb1b185d195c985b604a1b60448201526064015b60405180910390fd5b60035461023b8284610b0d565b11156102595760405162461bcd60e51b815260040161022590610b2f565b6001546040516323b872dd60e01b81526001600160a01b03909116906323b872dd9061028d90339030908690600401610b75565b6020604051808303816000875af11580156102ac573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102d09190610b99565b6102ec5760405162461bcd60e51b815260040161022590610bbb565b336000908152600460205260408120600101805484929061030e908490610be4565b90915550503360009081526004602052604081206002018054839290610335908490610be4565b9091555050604080518381526020810183905233917f804a14c1afdd6a423b6ff0bb6e2538ebd76b761e9bfdc9c7009df72bf158a52f91015b60405180910390a25050565b60015460405163a9059cbb60e01b8152336004820152602481018390526001600160a01b039091169063a9059cbb906044016020604051808303816000875af11580156103cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103ef9190610b99565b61040b5760405162461bcd60e51b815260040161022590610bbb565b60405181815233907f6fb24f3ad0678f9d138e80b17293be051d87911eb34e9e60f0d1b9c3805e885a906020015b60405180910390a250565b8181101561048e5760405162461bcd60e51b8152602060048201526017602482015276125b9cdd59999a58da595b9d0818dbdb1b185d195c985b604a1b6044820152606401610225565b60035461049b8284610b0d565b11156104b95760405162461bcd60e51b815260040161022590610b2f565b6001546040516323b872dd60e01b81526001600160a01b03909116906323b872dd906104ed90339030908690600401610b75565b6020604051808303816000875af115801561050c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105309190610b99565b61054c5760405162461bcd60e51b815260040161022590610bbb565b6040805160a081018252600080825260208083018690528284018590526060830182905260808301829052338252600490529190912081518154829060ff19166001838181111561059f5761059f610a9c565b021790555060208281015160018301556040808401516002840155606084015160038401556080909301516004909201805460ff191692151592909217909155815184815290810183905233917fc491b8e6940cb48fcf9cf813c35e2d45fad221af7d5f4ce18d77dc576e5bf220910161036e565b6001546040516323b872dd60e01b81526001600160a01b03909116906323b872dd9061064890339030908690600401610b75565b6020604051808303816000875af1158015610667573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061068b9190610b99565b6106a75760405162461bcd60e51b815260040161022590610bbb565b33600090815260046020526040812060020180548392906106c9908490610be4565b909155505060408051600081526020810183905233917f804a14c1afdd6a423b6ff0bb6e2538ebd76b761e9bfdc9c7009df72bf158a52f9101610439565b6000805460408051633fabe5a360e21b8152905183926001600160a01b03169163feaf968c9160048083019260a09291908290030181865afa158015610751573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107759190610c16565b509195945050505050565b600060025461078d610707565b6107979084610c66565b6107a19190610c66565b92915050565b6001546040516323b872dd60e01b81526001600160a01b03909116906323b872dd906107db90339030908690600401610b75565b6020604051808303816000875af11580156107fa573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061081e9190610b99565b61083a5760405162461bcd60e51b815260040161022590610bbb565b60405181815233907f688e89c1496876b0d792df75671fbe827183660b170bb8983d82511a6a4b7d1b90602001610439565b3360009081526004602081905260409091209081015460ff166108c75760405162461bcd60e51b8152602060048201526013602482015272141bdcda5d1a5bdb881b9bdd0818db1bdcd959606a1b6044820152606401610225565b6001815460ff1660018111156108df576108df610a9c565b146109215760405162461bcd60e51b8152602060048201526012602482015271141bdcda5d1a5bdb881b9bdd081cda1bdc9d60721b6044820152606401610225565b600154600282015460405163a9059cbb60e01b815233600482015260248101919091526001600160a01b039091169063a9059cbb906044016020604051808303816000875af1158015610978573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061099c9190610b99565b6109b85760405162461bcd60e51b815260040161022590610bbb565b336000818152600460208181526040808420805460ff19908116825560018083018790556002808401889055600384019790975591909401805490941690935591850154928501548251938452908301527fc8469f8998427d0814b7efed804617bd8c43dfdfb3c6780d28a03ecf361fb6989101610439565b60008060408385031215610a4457600080fd5b50508035926020909101359150565b600060208284031215610a6557600080fd5b5035919050565b600060208284031215610a7e57600080fd5b81356001600160a01b0381168114610a9557600080fd5b9392505050565b634e487b7160e01b600052602160045260246000fd5b60a0810160028710610ad457634e487b7160e01b600052602160045260246000fd5b958152602081019490945260408401929092526060830152151560809091015290565b634e487b7160e01b600052601160045260246000fd5b600082610b2a57634e487b7160e01b600052601260045260246000fd5b500490565b60208082526026908201527f45786365656473206d6178696d756d207574696c697a6174696f6e2070657263604082015265656e7461676560d01b606082015260800190565b6001600160a01b039384168152919092166020820152604081019190915260600190565b600060208284031215610bab57600080fd5b81518015158114610a9557600080fd5b6020808252600f908201526e151c985b9cd9995c8819985a5b1959608a1b604082015260600190565b808201808211156107a1576107a1610af7565b805169ffffffffffffffffffff81168114610c1157600080fd5b919050565b600080600080600060a08688031215610c2e57600080fd5b610c3786610bf7565b9450602086015193506040860151925060608601519150610c5a60808701610bf7565b90509295509295909350565b80820281158282048414176107a1576107a1610af756fea264697066735822122094ec214cfdb4a4fe73534639e1bdc2c5c419e7e1a57ed9039452ec252fb24b4a64736f6c63430008140033","sourceMap":"497:4110:36:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1364:32;;;;;;;;;160:25:43;;;148:2;133:18;1364:32:36;;;;;;;;2765:630;;;;;;:::i;:::-;;:::i;:::-;;2083:169;;;;;;:::i;:::-;;:::i;2258:498::-;;;;;;:::i;:::-;;:::i;1339:19::-;;;;;-1:-1:-1;;;;;1339:19:36;;;;;;-1:-1:-1;;;;;814:32:43;;;796:51;;784:2;769:18;1339:19:36;634:219:43;1451:46:36;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;3400:326::-;;;;;;:::i;:::-;;:::i;4180:198::-;;;:::i;4524:80::-;4596:1;4524:80;;4384:134;;;;;;:::i;:::-;;:::i;1890:187::-;;;;;;:::i;:::-;;:::i;3731:443::-;;;:::i;2765:630::-;2903:15;2878:21;:40;;2870:76;;;;-1:-1:-1;;;2870:76:36;;2130:2:43;2870:76:36;;;2112:21:43;2169:2;2149:18;;;2142:30;-1:-1:-1;;;2188:18:43;;;2181:53;2251:18;;2870:76:36;;;;;;;;;3009:24;;2965:39;2983:21;2965:15;:39;:::i;:::-;2964:69;;2956:120;;;;-1:-1:-1;;;2956:120:36;;;;;;;:::i;:::-;3094:5;;:68;;-1:-1:-1;;;3094:68:36;;-1:-1:-1;;;;;3094:5:36;;;;:18;;:68;;3113:10;;3133:4;;3140:21;;3094:68;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3086:96;;;;-1:-1:-1;;;3086:96:36;;;;;;;:::i;:::-;3202:10;3192:21;;;;:9;:21;;;;;:26;;:45;;3222:15;;3192:21;:45;;3222:15;;3192:45;:::i;:::-;;;;-1:-1:-1;;3257:10:36;3247:21;;;;:9;:21;;;;;:32;;:57;;3283:21;;3247;:57;;3283:21;;3247:57;:::i;:::-;;;;-1:-1:-1;;3319:69:36;;;4351:25:43;;;4407:2;4392:18;;4385:34;;;3337:10:36;;3319:69;;4324:18:43;3319:69:36;;;;;;;;2765:630;;:::o;2083:169::-;2145:5;;:35;;-1:-1:-1;;;2145:35:36;;2160:10;2145:35;;;4604:51:43;4671:18;;;4664:34;;;-1:-1:-1;;;;;2145:5:36;;;;:14;;4577:18:43;;2145:35:36;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2137:63;;;;-1:-1:-1;;;2137:63:36;;;;;;;:::i;:::-;2215:30;;160:25:43;;;2225:10:36;;2215:30;;148:2:43;133:18;2215:30:36;;;;;;;;2083:169;:::o;2258:498::-;2358:5;2343:11;:20;;2335:56;;;;-1:-1:-1;;;2335:56:36;;2130:2:43;2335:56:36;;;2112:21:43;2169:2;2149:18;;;2142:30;-1:-1:-1;;;2188:18:43;;;2181:53;2251:18;;2335:56:36;1928:347:43;2335:56:36;2434:24;;2410:19;2418:11;2410:5;:19;:::i;:::-;2409:49;;2401:100;;;;-1:-1:-1;;;2401:100:36;;;;;;;:::i;:::-;2519:5;;:58;;-1:-1:-1;;;2519:58:36;;-1:-1:-1;;;;;2519:5:36;;;;:18;;:58;;2538:10;;2558:4;;2565:11;;2519:58;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2511:86;;;;-1:-1:-1;;;2511:86:36;;;;;;;:::i;:::-;2631:57;;;;;;;;-1:-1:-1;2631:57:36;;;;;;;;;;;;;;;;;;;;;;;;;;;;2617:10;2607:21;;:9;:21;;;;;;:81;;;;:21;;-1:-1:-1;;2607:81:36;2631:57;2607:81;;;;;;;;;:::i;:::-;;;;;-1:-1:-1;2607:81:36;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;2607:81:36;;;;;;;;;;;2703:46;;4351:25:43;;;4392:18;;;4385:34;;;2718:10:36;;2703:46;;4324:18:43;2703:46:36;4177:248:43;3400:326:36;3494:5;;:68;;-1:-1:-1;;;3494:68:36;;-1:-1:-1;;;;;3494:5:36;;;;:18;;:68;;3513:10;;3533:4;;3540:21;;3494:68;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3486:96;;;;-1:-1:-1;;;3486:96:36;;;;;;;:::i;:::-;3602:10;3592:21;;;;:9;:21;;;;;:32;;:57;;3628:21;;3592;:57;;3628:21;;3592:57;:::i;:::-;;;;-1:-1:-1;;3664:55:36;;;3694:1;4351:25:43;;4407:2;4392:18;;4385:34;;;3682:10:36;;3664:55;;4324:18:43;3664:55:36;4177:248:43;4180:198:36;4221:7;4313:9;;:27;;;-1:-1:-1;;;4313:27:36;;;;4221:7;;-1:-1:-1;;;;;4313:9:36;;:25;;:27;;;;;;;;;;;;;;:9;:27;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;4292:48:36;;4180:198;-1:-1:-1;;;;;4180:198:36:o;4384:134::-;4454:7;4501:10;;4488;:8;:10::i;:::-;4480:18;;:5;:18;:::i;:::-;:31;;;;:::i;:::-;4473:38;4384:134;-1:-1:-1;;4384:134:36:o;1890:187::-;1951:5;;:54;;-1:-1:-1;;;1951:54:36;;-1:-1:-1;;;;;1951:5:36;;;;:18;;:54;;1970:10;;1990:4;;1997:7;;1951:54;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1943:82;;;;-1:-1:-1;;;1943:82:36;;;;;;;:::i;:::-;2040:30;;160:25:43;;;2050:10:36;;2040:30;;148:2:43;133:18;2040:30:36;14:177:43;3731:443:36;3813:10;3775:25;3803:21;;;:9;:21;;;;;;;;3842:17;;;;;;3834:49;;;;-1:-1:-1;;;3834:49:36;;6007:2:43;3834:49:36;;;5989:21:43;6046:2;6026:18;;;6019:30;-1:-1:-1;;;6065:18:43;;;6058:49;6124:18;;3834:49:36;5805:343:43;3834:49:36;3926:18;3901:21;;;;;:43;;;;;;;:::i;:::-;;3893:74;;;;-1:-1:-1;;;3893:74:36;;6355:2:43;3893:74:36;;;6337:21:43;6394:2;6374:18;;;6367:30;-1:-1:-1;;;6413:18:43;;;6406:48;6471:18;;3893:74:36;6153:342:43;3893:74:36;3985:5;;4012:19;;;;3985:47;;-1:-1:-1;;;3985:47:36;;4000:10;3985:47;;;4604:51:43;4671:18;;;4664:34;;;;-1:-1:-1;;;;;3985:5:36;;;;:14;;4577:18:43;;3985:47:36;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3977:75;;;;-1:-1:-1;;;3977:75:36;;;;;;;:::i;:::-;4079:10;4069:21;;;;:9;:21;;;;;;;;4062:28;;-1:-1:-1;;4062:28:36;;;;;-1:-1:-1;4062:28:36;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4132:13;;;;4147:19;;;;4105:62;;4351:25:43;;;4392:18;;;4385:34;4105:62:36;;4324:18:43;4105:62:36;4177:248:43;196;264:6;272;325:2;313:9;304:7;300:23;296:32;293:52;;;341:1;338;331:12;293:52;-1:-1:-1;;364:23:43;;;434:2;419:18;;;406:32;;-1:-1:-1;196:248:43:o;449:180::-;508:6;561:2;549:9;540:7;536:23;532:32;529:52;;;577:1;574;567:12;529:52;-1:-1:-1;600:23:43;;449:180;-1:-1:-1;449:180:43:o;858:286::-;917:6;970:2;958:9;949:7;945:23;941:32;938:52;;;986:1;983;976:12;938:52;1012:23;;-1:-1:-1;;;;;1064:31:43;;1054:42;;1044:70;;1110:1;1107;1100:12;1044:70;1133:5;858:286;-1:-1:-1;;;858:286:43:o;1149:127::-;1210:10;1205:3;1201:20;1198:1;1191:31;1241:4;1238:1;1231:15;1265:4;1262:1;1255:15;1281:642;1537:3;1522:19;;1571:1;1560:13;;1550:144;;1616:10;1611:3;1607:20;1604:1;1597:31;1651:4;1648:1;1641:15;1679:4;1676:1;1669:15;1550:144;1703:25;;;1759:2;1744:18;;1737:34;;;;1802:2;1787:18;;1780:34;;;;1845:2;1830:18;;1823:34;1901:14;1894:22;1888:3;1873:19;;;1866:51;1281:642;:::o;2280:127::-;2341:10;2336:3;2332:20;2329:1;2322:31;2372:4;2369:1;2362:15;2396:4;2393:1;2386:15;2412:217;2452:1;2478;2468:132;;2522:10;2517:3;2513:20;2510:1;2503:31;2557:4;2554:1;2547:15;2585:4;2582:1;2575:15;2468:132;-1:-1:-1;2614:9:43;;2412:217::o;2634:402::-;2836:2;2818:21;;;2875:2;2855:18;;;2848:30;2914:34;2909:2;2894:18;;2887:62;-1:-1:-1;;;2980:2:43;2965:18;;2958:36;3026:3;3011:19;;2634:402::o;3041:375::-;-1:-1:-1;;;;;3299:15:43;;;3281:34;;3351:15;;;;3346:2;3331:18;;3324:43;3398:2;3383:18;;3376:34;;;;3231:2;3216:18;;3041:375::o;3421:277::-;3488:6;3541:2;3529:9;3520:7;3516:23;3512:32;3509:52;;;3557:1;3554;3547:12;3509:52;3589:9;3583:16;3642:5;3635:13;3628:21;3621:5;3618:32;3608:60;;3664:1;3661;3654:12;3703:339;3905:2;3887:21;;;3944:2;3924:18;;;3917:30;-1:-1:-1;;;3978:2:43;3963:18;;3956:45;4033:2;4018:18;;3703:339::o;4047:125::-;4112:9;;;4133:10;;;4130:36;;;4146:18;;:::i;4970:179::-;5048:13;;5101:22;5090:34;;5080:45;;5070:73;;5139:1;5136;5129:12;5070:73;4970:179;;;:::o;5154:473::-;5257:6;5265;5273;5281;5289;5342:3;5330:9;5321:7;5317:23;5313:33;5310:53;;;5359:1;5356;5349:12;5310:53;5382:39;5411:9;5382:39;:::i;:::-;5372:49;;5461:2;5450:9;5446:18;5440:25;5430:35;;5505:2;5494:9;5490:18;5484:25;5474:35;;5549:2;5538:9;5534:18;5528:25;5518:35;;5572:49;5616:3;5605:9;5601:19;5572:49;:::i;:::-;5562:59;;5154:473;;;;;;;;:::o;5632:168::-;5705:9;;;5736;;5753:15;;;5747:22;;5733:37;5723:71;;5774:18;;:::i","linkReferences":{}},"methodIdentifiers":{"asset()":"38d52e0f","closePosition()":"c393d0e3","deposit(uint256)":"b6b55f25","getCollateralRequirement(uint256)":"b2d62421","getPrice()":"98d5fdca","getTestNumber()":"aeb71b07","increasePositionCollateral(uint256)":"71d0e6af","increasePositionSize(uint256,uint256)":"28b51920","multiplier()":"1b3ed722","openPosition(uint256,uint256)":"3012b05c","positions(address)":"55f57510","withdraw(uint256)":"2e1a7d4d"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_asset\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_priceFeed\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"required\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"available\",\"type\":\"uint256\"}],\"name\":\"InsufficientCollateral\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PositionNotOpen\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PositionNotSettled\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"}],\"name\":\"PositionClosed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"}],\"name\":\"PositionDecreased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"}],\"name\":\"PositionIncreased\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"}],\"name\":\"PositionOpened\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"}],\"name\":\"PositionSettled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"deposited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdrawn\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"asset\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"closePosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_size\",\"type\":\"uint256\"}],\"name\":\"getCollateralRequirement\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTestNumber\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_additionalCollateral\",\"type\":\"uint256\"}],\"name\":\"increasePositionCollateral\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_additionalSize\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_additionalCollateral\",\"type\":\"uint256\"}],\"name\":\"increasePositionSize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"multiplier\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_size\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_collateral\",\"type\":\"uint256\"}],\"name\":\"openPosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"positions\",\"outputs\":[{\"internalType\":\"enum PositionType\",\"name\":\"positionType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"size\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"entryPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"isClosed\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/Perpetual/perpetual.sol\":\"perp\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@chainlink/contracts/=lib/chainlink-brownie-contracts/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":chainlink-brownie-contracts/=lib/chainlink-brownie-contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":v2-core/=lib/v2-core/contracts/\"]},\"sources\":{\"lib/chainlink-brownie-contracts/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol\":{\"keccak256\":\"0xe6f5ac8c47f3b9b6135051efb9216f9ba5b312a6ecc20209b4f66a780443c328\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ded4aa77b7b8f222a2d992eb95b03592be3250b826b6a38a4c790d2dec8b0d47\",\"dweb:/ipfs/QmNUKpTKXWsBBNMyzZuYvEZ2pUhZ2zEhQuyvxYZpTwo4eT\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0xc6a8ff0ea489379b61faa647490411b80102578440ab9d84e9a957cc12164e70\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0ea104e577e63faea3b69c415637e99e755dcbf64c5833d7140c35a714d6d90c\",\"dweb:/ipfs/Qmau6x4Ns9XdyynRCNNp3RhLqijJjFm7z5fyZazfYFGYdq\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/extensions/IERC20Permit.sol\":{\"keccak256\":\"0x6008dabfe393240d73d7dd7688033f72740d570aa422254d29a7dce8568f3aff\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f5196ec75139918c6c7bb4251b36395e668f1fa6d206beba7e7520e74913940d\",\"dweb:/ipfs/QmSyqjksXxmm2mCG6qRd1yuwLykypkSVBbnBnGqJRcuJMi\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol\":{\"keccak256\":\"0x37bb49513c49c87c4642a891b13b63571bc87013dde806617aa1efb54605f386\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b3036b3a83b7c48f96641f2a9002b9f2dcb6a5958dd670894ada21ae8229b3d0\",\"dweb:/ipfs/QmUNfSBdoVtjhETaUJCYcaC7pTMgbhht926tJ2uXJbiVd3\"]},\"lib/openzeppelin-contracts/contracts/utils/Address.sol\":{\"keccak256\":\"0xaf28a975a78550e45f65e559a3ad6a5ad43b9b8a37366999abd1b7084eb70721\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b7bd24e224f67f65bfadf85dc2929fa965456bb2415478bd0125471b5ce35245\",\"dweb:/ipfs/QmRaydGr8BTHs1kvaZfsNU69pKzUAGFrvABn1KiRSbE51y\"]},\"src/Perpetual/perpetual.sol\":{\"keccak256\":\"0xceedce2c3782e69541e88d55e1e27cb70aa03a77e80b5279ff57a1846759d917\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a78f1d5dcdf367ffc58510ac87d8ca90c285884268ea7f87e2d931e843c91589\",\"dweb:/ipfs/QmfPpkTXTjdW7hmfxqm3j1tz2XH6aKGGkVUPWBatrBkdhH\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_asset","type":"address"},{"internalType":"address","name":"_priceFeed","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"required","type":"uint256"},{"internalType":"uint256","name":"available","type":"uint256"}],"type":"error","name":"InsufficientCollateral"},{"inputs":[],"type":"error","name":"PositionNotOpen"},{"inputs":[],"type":"error","name":"PositionNotSettled"},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"uint256","name":"size","type":"uint256","indexed":false},{"internalType":"uint256","name":"collateral","type":"uint256","indexed":false}],"type":"event","name":"PositionClosed","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"uint256","name":"size","type":"uint256","indexed":false},{"internalType":"uint256","name":"collateral","type":"uint256","indexed":false}],"type":"event","name":"PositionDecreased","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"uint256","name":"size","type":"uint256","indexed":false},{"internalType":"uint256","name":"collateral","type":"uint256","indexed":false}],"type":"event","name":"PositionIncreased","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"uint256","name":"size","type":"uint256","indexed":false},{"internalType":"uint256","name":"collateral","type":"uint256","indexed":false}],"type":"event","name":"PositionOpened","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"uint256","name":"size","type":"uint256","indexed":false},{"internalType":"uint256","name":"collateral","type":"uint256","indexed":false}],"type":"event","name":"PositionSettled","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"deposited","anonymous":false},{"inputs":[{"internalType":"address","name":"account","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"withdrawn","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"asset","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"closePosition"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"deposit"},{"inputs":[{"internalType":"uint256","name":"_size","type":"uint256"}],"stateMutability":"view","type":"function","name":"getCollateralRequirement","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"pure","type":"function","name":"getTestNumber","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"_additionalCollateral","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"increasePositionCollateral"},{"inputs":[{"internalType":"uint256","name":"_additionalSize","type":"uint256"},{"internalType":"uint256","name":"_additionalCollateral","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"increasePositionSize"},{"inputs":[],"stateMutability":"view","type":"function","name":"multiplier","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"_size","type":"uint256"},{"internalType":"uint256","name":"_collateral","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"openPosition"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"positions","outputs":[{"internalType":"enum PositionType","name":"positionType","type":"uint8"},{"internalType":"uint256","name":"size","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"uint256","name":"entryPrice","type":"uint256"},{"internalType":"bool","name":"isClosed","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"withdraw"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@chainlink/contracts/=lib/chainlink-brownie-contracts/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","chainlink-brownie-contracts/=lib/chainlink-brownie-contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","v2-core/=lib/v2-core/contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/Perpetual/perpetual.sol":"perp"},"libraries":{}},"sources":{"lib/chainlink-brownie-contracts/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol":{"keccak256":"0xe6f5ac8c47f3b9b6135051efb9216f9ba5b312a6ecc20209b4f66a780443c328","urls":["bzz-raw://ded4aa77b7b8f222a2d992eb95b03592be3250b826b6a38a4c790d2dec8b0d47","dweb:/ipfs/QmNUKpTKXWsBBNMyzZuYvEZ2pUhZ2zEhQuyvxYZpTwo4eT"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0xc6a8ff0ea489379b61faa647490411b80102578440ab9d84e9a957cc12164e70","urls":["bzz-raw://0ea104e577e63faea3b69c415637e99e755dcbf64c5833d7140c35a714d6d90c","dweb:/ipfs/Qmau6x4Ns9XdyynRCNNp3RhLqijJjFm7z5fyZazfYFGYdq"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/extensions/IERC20Permit.sol":{"keccak256":"0x6008dabfe393240d73d7dd7688033f72740d570aa422254d29a7dce8568f3aff","urls":["bzz-raw://f5196ec75139918c6c7bb4251b36395e668f1fa6d206beba7e7520e74913940d","dweb:/ipfs/QmSyqjksXxmm2mCG6qRd1yuwLykypkSVBbnBnGqJRcuJMi"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol":{"keccak256":"0x37bb49513c49c87c4642a891b13b63571bc87013dde806617aa1efb54605f386","urls":["bzz-raw://b3036b3a83b7c48f96641f2a9002b9f2dcb6a5958dd670894ada21ae8229b3d0","dweb:/ipfs/QmUNfSBdoVtjhETaUJCYcaC7pTMgbhht926tJ2uXJbiVd3"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Address.sol":{"keccak256":"0xaf28a975a78550e45f65e559a3ad6a5ad43b9b8a37366999abd1b7084eb70721","urls":["bzz-raw://b7bd24e224f67f65bfadf85dc2929fa965456bb2415478bd0125471b5ce35245","dweb:/ipfs/QmRaydGr8BTHs1kvaZfsNU69pKzUAGFrvABn1KiRSbE51y"],"license":"MIT"},"src/Perpetual/perpetual.sol":{"keccak256":"0xceedce2c3782e69541e88d55e1e27cb70aa03a77e80b5279ff57a1846759d917","urls":["bzz-raw://a78f1d5dcdf367ffc58510ac87d8ca90c285884268ea7f87e2d931e843c91589","dweb:/ipfs/QmfPpkTXTjdW7hmfxqm3j1tz2XH6aKGGkVUPWBatrBkdhH"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/Perpetual/perpetual.sol","id":47076,"exportedSymbols":{"AggregatorV3Interface":[45],"IERC20":[45584],"Position":[46651],"PositionType":[46639],"SafeERC20":[45982],"perp":[47075]},"nodeType":"SourceUnit","src":"32:4575:36","nodes":[{"id":46632,"nodeType":"PragmaDirective","src":"32:24:36","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":46633,"nodeType":"ImportDirective","src":"80:97:36","nodes":[],"absolutePath":"lib/chainlink-brownie-contracts/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol","file":"lib/chainlink-brownie-contracts/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol","nameLocation":"-1:-1:-1","scope":47076,"sourceUnit":46,"symbolAliases":[],"unitAlias":""},{"id":46634,"nodeType":"ImportDirective","src":"178:56:36","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol","file":"@openzeppelin/contracts/token/ERC20/IERC20.sol","nameLocation":"-1:-1:-1","scope":47076,"sourceUnit":45585,"symbolAliases":[],"unitAlias":""},{"id":46636,"nodeType":"ImportDirective","src":"235:82:36","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/token/ERC20/utils/SafeERC20.sol","file":"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol","nameLocation":"-1:-1:-1","scope":47076,"sourceUnit":45983,"symbolAliases":[{"foreign":{"id":46635,"name":"SafeERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45982,"src":"243:9:36","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":46639,"nodeType":"EnumDefinition","src":"320:41:36","nodes":[],"canonicalName":"PositionType","members":[{"id":46637,"name":"LONG","nameLocation":"344:4:36","nodeType":"EnumValue","src":"344:4:36"},{"id":46638,"name":"SHORT","nameLocation":"354:5:36","nodeType":"EnumValue","src":"354:5:36"}],"name":"PositionType","nameLocation":"325:12:36"},{"id":46651,"nodeType":"StructDefinition","src":"362:133:36","nodes":[],"canonicalName":"Position","members":[{"constant":false,"id":46642,"mutability":"mutable","name":"positionType","nameLocation":"394:12:36","nodeType":"VariableDeclaration","scope":46651,"src":"381:25:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_PositionType_$46639","typeString":"enum PositionType"},"typeName":{"id":46641,"nodeType":"UserDefinedTypeName","pathNode":{"id":46640,"name":"PositionType","nameLocations":["381:12:36"],"nodeType":"IdentifierPath","referencedDeclaration":46639,"src":"381:12:36"},"referencedDeclaration":46639,"src":"381:12:36","typeDescriptions":{"typeIdentifier":"t_enum$_PositionType_$46639","typeString":"enum PositionType"}},"visibility":"internal"},{"constant":false,"id":46644,"mutability":"mutable","name":"size","nameLocation":"420:4:36","nodeType":"VariableDeclaration","scope":46651,"src":"412:12:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46643,"name":"uint256","nodeType":"ElementaryTypeName","src":"412:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46646,"mutability":"mutable","name":"collateral","nameLocation":"438:10:36","nodeType":"VariableDeclaration","scope":46651,"src":"430:18:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46645,"name":"uint256","nodeType":"ElementaryTypeName","src":"430:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46648,"mutability":"mutable","name":"entryPrice","nameLocation":"462:10:36","nodeType":"VariableDeclaration","scope":46651,"src":"454:18:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46647,"name":"uint256","nodeType":"ElementaryTypeName","src":"454:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46650,"mutability":"mutable","name":"isClosed","nameLocation":"483:8:36","nodeType":"VariableDeclaration","scope":46651,"src":"478:13:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":46649,"name":"bool","nodeType":"ElementaryTypeName","src":"478:4:36","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"name":"Position","nameLocation":"369:8:36","scope":47076,"visibility":"public"},{"id":47075,"nodeType":"ContractDefinition","src":"497:4110:36","nodes":[{"id":46655,"nodeType":"UsingForDirective","src":"517:27:36","nodes":[],"global":false,"libraryName":{"id":46652,"name":"SafeERC20","nameLocations":["523:9:36"],"nodeType":"IdentifierPath","referencedDeclaration":45982,"src":"523:9:36"},"typeName":{"id":46654,"nodeType":"UserDefinedTypeName","pathNode":{"id":46653,"name":"IERC20","nameLocations":["537:6:36"],"nodeType":"IdentifierPath","referencedDeclaration":45584,"src":"537:6:36"},"referencedDeclaration":45584,"src":"537:6:36","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$45584","typeString":"contract IERC20"}}},{"id":46658,"nodeType":"VariableDeclaration","src":"550:40:36","nodes":[],"constant":false,"mutability":"mutable","name":"priceFeed","nameLocation":"581:9:36","scope":47075,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_AggregatorV3Interface_$45","typeString":"contract AggregatorV3Interface"},"typeName":{"id":46657,"nodeType":"UserDefinedTypeName","pathNode":{"id":46656,"name":"AggregatorV3Interface","nameLocations":["550:21:36"],"nodeType":"IdentifierPath","referencedDeclaration":45,"src":"550:21:36"},"referencedDeclaration":45,"src":"550:21:36","typeDescriptions":{"typeIdentifier":"t_contract$_AggregatorV3Interface_$45","typeString":"contract AggregatorV3Interface"}},"visibility":"internal"},{"id":46664,"nodeType":"ErrorDefinition","src":"611:66:36","nodes":[],"errorSelector":"b07e3bc4","name":"InsufficientCollateral","nameLocation":"617:22:36","parameters":{"id":46663,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46660,"mutability":"mutable","name":"required","nameLocation":"648:8:36","nodeType":"VariableDeclaration","scope":46664,"src":"640:16:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46659,"name":"uint256","nodeType":"ElementaryTypeName","src":"640:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46662,"mutability":"mutable","name":"available","nameLocation":"666:9:36","nodeType":"VariableDeclaration","scope":46664,"src":"658:17:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46661,"name":"uint256","nodeType":"ElementaryTypeName","src":"658:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"639:37:36"}},{"id":46666,"nodeType":"ErrorDefinition","src":"682:27:36","nodes":[],"errorSelector":"5a6c1fdc","name":"PositionNotSettled","nameLocation":"688:18:36","parameters":{"id":46665,"nodeType":"ParameterList","parameters":[],"src":"706:2:36"}},{"id":46668,"nodeType":"ErrorDefinition","src":"714:24:36","nodes":[],"errorSelector":"94e88a21","name":"PositionNotOpen","nameLocation":"720:15:36","parameters":{"id":46667,"nodeType":"ParameterList","parameters":[],"src":"735:2:36"}},{"id":46676,"nodeType":"EventDefinition","src":"758:80:36","nodes":[],"anonymous":false,"eventSelector":"c491b8e6940cb48fcf9cf813c35e2d45fad221af7d5f4ce18d77dc576e5bf220","name":"PositionOpened","nameLocation":"764:14:36","parameters":{"id":46675,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46670,"indexed":true,"mutability":"mutable","name":"account","nameLocation":"795:7:36","nodeType":"VariableDeclaration","scope":46676,"src":"779:23:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46669,"name":"address","nodeType":"ElementaryTypeName","src":"779:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46672,"indexed":false,"mutability":"mutable","name":"size","nameLocation":"812:4:36","nodeType":"VariableDeclaration","scope":46676,"src":"804:12:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46671,"name":"uint256","nodeType":"ElementaryTypeName","src":"804:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46674,"indexed":false,"mutability":"mutable","name":"collateral","nameLocation":"826:10:36","nodeType":"VariableDeclaration","scope":46676,"src":"818:18:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46673,"name":"uint256","nodeType":"ElementaryTypeName","src":"818:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"778:59:36"}},{"id":46684,"nodeType":"EventDefinition","src":"843:80:36","nodes":[],"anonymous":false,"eventSelector":"c8469f8998427d0814b7efed804617bd8c43dfdfb3c6780d28a03ecf361fb698","name":"PositionClosed","nameLocation":"849:14:36","parameters":{"id":46683,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46678,"indexed":true,"mutability":"mutable","name":"account","nameLocation":"880:7:36","nodeType":"VariableDeclaration","scope":46684,"src":"864:23:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46677,"name":"address","nodeType":"ElementaryTypeName","src":"864:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46680,"indexed":false,"mutability":"mutable","name":"size","nameLocation":"897:4:36","nodeType":"VariableDeclaration","scope":46684,"src":"889:12:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46679,"name":"uint256","nodeType":"ElementaryTypeName","src":"889:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46682,"indexed":false,"mutability":"mutable","name":"collateral","nameLocation":"911:10:36","nodeType":"VariableDeclaration","scope":46684,"src":"903:18:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46681,"name":"uint256","nodeType":"ElementaryTypeName","src":"903:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"863:59:36"}},{"id":46692,"nodeType":"EventDefinition","src":"928:83:36","nodes":[],"anonymous":false,"eventSelector":"804a14c1afdd6a423b6ff0bb6e2538ebd76b761e9bfdc9c7009df72bf158a52f","name":"PositionIncreased","nameLocation":"934:17:36","parameters":{"id":46691,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46686,"indexed":true,"mutability":"mutable","name":"account","nameLocation":"968:7:36","nodeType":"VariableDeclaration","scope":46692,"src":"952:23:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46685,"name":"address","nodeType":"ElementaryTypeName","src":"952:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46688,"indexed":false,"mutability":"mutable","name":"size","nameLocation":"985:4:36","nodeType":"VariableDeclaration","scope":46692,"src":"977:12:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46687,"name":"uint256","nodeType":"ElementaryTypeName","src":"977:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46690,"indexed":false,"mutability":"mutable","name":"collateral","nameLocation":"999:10:36","nodeType":"VariableDeclaration","scope":46692,"src":"991:18:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46689,"name":"uint256","nodeType":"ElementaryTypeName","src":"991:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"951:59:36"}},{"id":46700,"nodeType":"EventDefinition","src":"1016:83:36","nodes":[],"anonymous":false,"eventSelector":"03d6a8a613b220d398ccb1424a7f81ae5f2801885e02ebd7058de6d94c19198c","name":"PositionDecreased","nameLocation":"1022:17:36","parameters":{"id":46699,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46694,"indexed":true,"mutability":"mutable","name":"account","nameLocation":"1056:7:36","nodeType":"VariableDeclaration","scope":46700,"src":"1040:23:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46693,"name":"address","nodeType":"ElementaryTypeName","src":"1040:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46696,"indexed":false,"mutability":"mutable","name":"size","nameLocation":"1073:4:36","nodeType":"VariableDeclaration","scope":46700,"src":"1065:12:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46695,"name":"uint256","nodeType":"ElementaryTypeName","src":"1065:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46698,"indexed":false,"mutability":"mutable","name":"collateral","nameLocation":"1087:10:36","nodeType":"VariableDeclaration","scope":46700,"src":"1079:18:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46697,"name":"uint256","nodeType":"ElementaryTypeName","src":"1079:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1039:59:36"}},{"id":46708,"nodeType":"EventDefinition","src":"1104:81:36","nodes":[],"anonymous":false,"eventSelector":"29d51d9d250ad4bb48ee0d0f5314deba275072461a9670de1d64b6c40a449e45","name":"PositionSettled","nameLocation":"1110:15:36","parameters":{"id":46707,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46702,"indexed":true,"mutability":"mutable","name":"account","nameLocation":"1142:7:36","nodeType":"VariableDeclaration","scope":46708,"src":"1126:23:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46701,"name":"address","nodeType":"ElementaryTypeName","src":"1126:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46704,"indexed":false,"mutability":"mutable","name":"size","nameLocation":"1159:4:36","nodeType":"VariableDeclaration","scope":46708,"src":"1151:12:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46703,"name":"uint256","nodeType":"ElementaryTypeName","src":"1151:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46706,"indexed":false,"mutability":"mutable","name":"collateral","nameLocation":"1173:10:36","nodeType":"VariableDeclaration","scope":46708,"src":"1165:18:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46705,"name":"uint256","nodeType":"ElementaryTypeName","src":"1165:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1125:59:36"}},{"id":46714,"nodeType":"EventDefinition","src":"1190:57:36","nodes":[],"anonymous":false,"eventSelector":"688e89c1496876b0d792df75671fbe827183660b170bb8983d82511a6a4b7d1b","name":"deposited","nameLocation":"1196:9:36","parameters":{"id":46713,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46710,"indexed":true,"mutability":"mutable","name":"account","nameLocation":"1222:7:36","nodeType":"VariableDeclaration","scope":46714,"src":"1206:23:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46709,"name":"address","nodeType":"ElementaryTypeName","src":"1206:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46712,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"1239:6:36","nodeType":"VariableDeclaration","scope":46714,"src":"1231:14:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46711,"name":"uint256","nodeType":"ElementaryTypeName","src":"1231:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1205:41:36"}},{"id":46720,"nodeType":"EventDefinition","src":"1252:57:36","nodes":[],"anonymous":false,"eventSelector":"6fb24f3ad0678f9d138e80b17293be051d87911eb34e9e60f0d1b9c3805e885a","name":"withdrawn","nameLocation":"1258:9:36","parameters":{"id":46719,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46716,"indexed":true,"mutability":"mutable","name":"account","nameLocation":"1284:7:36","nodeType":"VariableDeclaration","scope":46720,"src":"1268:23:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46715,"name":"address","nodeType":"ElementaryTypeName","src":"1268:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46718,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"1301:6:36","nodeType":"VariableDeclaration","scope":46720,"src":"1293:14:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46717,"name":"uint256","nodeType":"ElementaryTypeName","src":"1293:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1267:41:36"}},{"id":46723,"nodeType":"VariableDeclaration","src":"1339:19:36","nodes":[],"constant":false,"functionSelector":"38d52e0f","mutability":"mutable","name":"asset","nameLocation":"1353:5:36","scope":47075,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$45584","typeString":"contract IERC20"},"typeName":{"id":46722,"nodeType":"UserDefinedTypeName","pathNode":{"id":46721,"name":"IERC20","nameLocations":["1339:6:36"],"nodeType":"IdentifierPath","referencedDeclaration":45584,"src":"1339:6:36"},"referencedDeclaration":45584,"src":"1339:6:36","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$45584","typeString":"contract IERC20"}},"visibility":"public"},{"id":46726,"nodeType":"VariableDeclaration","src":"1364:32:36","nodes":[],"constant":false,"functionSelector":"1b3ed722","mutability":"mutable","name":"multiplier","nameLocation":"1379:10:36","scope":47075,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46724,"name":"uint256","nodeType":"ElementaryTypeName","src":"1364:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31653130","id":46725,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1392:4:36","typeDescriptions":{"typeIdentifier":"t_rational_10000000000_by_1","typeString":"int_const 10000000000"},"value":"1e10"},"visibility":"public"},{"id":46729,"nodeType":"VariableDeclaration","src":"1402:37:36","nodes":[],"constant":false,"mutability":"mutable","name":"maxUtilizationPercentage","nameLocation":"1410:24:36","scope":47075,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46727,"name":"uint256","nodeType":"ElementaryTypeName","src":"1402:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"3830","id":46728,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1437:2:36","typeDescriptions":{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"},"value":"80"},"visibility":"internal"},{"id":46734,"nodeType":"VariableDeclaration","src":"1451:46:36","nodes":[],"constant":false,"functionSelector":"55f57510","mutability":"mutable","name":"positions","nameLocation":"1488:9:36","scope":47075,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Position_$46651_storage_$","typeString":"mapping(address => struct Position)"},"typeName":{"id":46733,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":46730,"name":"address","nodeType":"ElementaryTypeName","src":"1460:7:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1451:29:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Position_$46651_storage_$","typeString":"mapping(address => struct Position)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":46732,"nodeType":"UserDefinedTypeName","pathNode":{"id":46731,"name":"Position","nameLocations":["1471:8:36"],"nodeType":"IdentifierPath","referencedDeclaration":46651,"src":"1471:8:36"},"referencedDeclaration":46651,"src":"1471:8:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage_ptr","typeString":"struct Position"}}},"visibility":"public"},{"id":46750,"nodeType":"ModifierDefinition","src":"1521:128:36","nodes":[],"body":{"id":46749,"nodeType":"Block","src":"1562:87:36","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":46744,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46739,"name":"_address","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46736,"src":"1580:8:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":46742,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1600:1:36","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":46741,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1592:7:36","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46740,"name":"address","nodeType":"ElementaryTypeName","src":"1592:7:36","typeDescriptions":{}}},"id":46743,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1592:10:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1580:22:36","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5a65726f2061646472657373206e6f7420616c6c6f776564","id":46745,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1604:26:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_d15a1b642cacf87a72fab94030672bbfc7860df6ebdb084f3df815612067f9d8","typeString":"literal_string \"Zero address not allowed\""},"value":"Zero address not allowed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_d15a1b642cacf87a72fab94030672bbfc7860df6ebdb084f3df815612067f9d8","typeString":"literal_string \"Zero address not allowed\""}],"id":46738,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1572:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46746,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1572:59:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46747,"nodeType":"ExpressionStatement","src":"1572:59:36"},{"id":46748,"nodeType":"PlaceholderStatement","src":"1641:1:36"}]},"name":"nonZeroAddress","nameLocation":"1530:14:36","parameters":{"id":46737,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46736,"mutability":"mutable","name":"_address","nameLocation":"1553:8:36","nodeType":"VariableDeclaration","scope":46750,"src":"1545:16:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46735,"name":"address","nodeType":"ElementaryTypeName","src":"1545:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1544:18:36"},"virtual":false,"visibility":"internal"},{"id":46776,"nodeType":"FunctionDefinition","src":"1655:229:36","nodes":[],"body":{"id":46775,"nodeType":"Block","src":"1753:131:36","nodes":[],"statements":[{"expression":{"id":46767,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":46763,"name":"asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46723,"src":"1763:5:36","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$45584","typeString":"contract IERC20"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":46765,"name":"_asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46752,"src":"1778:6:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":46764,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45584,"src":"1771:6:36","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$45584_$","typeString":"type(contract IERC20)"}},"id":46766,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1771:14:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$45584","typeString":"contract IERC20"}},"src":"1763:22:36","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$45584","typeString":"contract IERC20"}},"id":46768,"nodeType":"ExpressionStatement","src":"1763:22:36"},{"expression":{"id":46773,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":46769,"name":"priceFeed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46658,"src":"1832:9:36","typeDescriptions":{"typeIdentifier":"t_contract$_AggregatorV3Interface_$45","typeString":"contract AggregatorV3Interface"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":46771,"name":"_priceFeed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46754,"src":"1866:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":46770,"name":"AggregatorV3Interface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":45,"src":"1844:21:36","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AggregatorV3Interface_$45_$","typeString":"type(contract AggregatorV3Interface)"}},"id":46772,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1844:33:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_AggregatorV3Interface_$45","typeString":"contract AggregatorV3Interface"}},"src":"1832:45:36","typeDescriptions":{"typeIdentifier":"t_contract$_AggregatorV3Interface_$45","typeString":"contract AggregatorV3Interface"}},"id":46774,"nodeType":"ExpressionStatement","src":"1832:45:36"}]},"implemented":true,"kind":"constructor","modifiers":[{"arguments":[{"id":46757,"name":"_asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46752,"src":"1719:6:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"id":46758,"kind":"modifierInvocation","modifierName":{"id":46756,"name":"nonZeroAddress","nameLocations":["1704:14:36"],"nodeType":"IdentifierPath","referencedDeclaration":46750,"src":"1704:14:36"},"nodeType":"ModifierInvocation","src":"1704:22:36"},{"arguments":[{"id":46760,"name":"_priceFeed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46754,"src":"1742:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"id":46761,"kind":"modifierInvocation","modifierName":{"id":46759,"name":"nonZeroAddress","nameLocations":["1727:14:36"],"nodeType":"IdentifierPath","referencedDeclaration":46750,"src":"1727:14:36"},"nodeType":"ModifierInvocation","src":"1727:26:36"}],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":46755,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46752,"mutability":"mutable","name":"_asset","nameLocation":"1676:6:36","nodeType":"VariableDeclaration","scope":46776,"src":"1668:14:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46751,"name":"address","nodeType":"ElementaryTypeName","src":"1668:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":46754,"mutability":"mutable","name":"_priceFeed","nameLocation":"1692:10:36","nodeType":"VariableDeclaration","scope":46776,"src":"1684:18:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":46753,"name":"address","nodeType":"ElementaryTypeName","src":"1684:7:36","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1667:36:36"},"returnParameters":{"id":46762,"nodeType":"ParameterList","parameters":[],"src":"1753:0:36"},"scope":47075,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":46802,"nodeType":"FunctionDefinition","src":"1890:187:36","nodes":[],"body":{"id":46801,"nodeType":"Block","src":"1933:144:36","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"expression":{"id":46784,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"1970:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46785,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1974:6:36","memberName":"sender","nodeType":"MemberAccess","src":"1970:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":46788,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"1990:4:36","typeDescriptions":{"typeIdentifier":"t_contract$_perp_$47075","typeString":"contract perp"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_perp_$47075","typeString":"contract perp"}],"id":46787,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1982:7:36","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46786,"name":"address","nodeType":"ElementaryTypeName","src":"1982:7:36","typeDescriptions":{}}},"id":46789,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1982:13:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46790,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46778,"src":"1997:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":46782,"name":"asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46723,"src":"1951:5:36","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$45584","typeString":"contract IERC20"}},"id":46783,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1957:12:36","memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":45583,"src":"1951:18:36","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":46791,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1951:54:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5472616e73666572206661696c6564","id":46792,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2007:17:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""},"value":"Transfer failed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""}],"id":46781,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1943:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46793,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1943:82:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46794,"nodeType":"ExpressionStatement","src":"1943:82:36"},{"eventCall":{"arguments":[{"expression":{"id":46796,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2050:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46797,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2054:6:36","memberName":"sender","nodeType":"MemberAccess","src":"2050:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46798,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46778,"src":"2062:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":46795,"name":"deposited","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46714,"src":"2040:9:36","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":46799,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2040:30:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46800,"nodeType":"EmitStatement","src":"2035:35:36"}]},"functionSelector":"b6b55f25","implemented":true,"kind":"function","modifiers":[],"name":"deposit","nameLocation":"1899:7:36","parameters":{"id":46779,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46778,"mutability":"mutable","name":"_amount","nameLocation":"1915:7:36","nodeType":"VariableDeclaration","scope":46802,"src":"1907:15:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46777,"name":"uint256","nodeType":"ElementaryTypeName","src":"1907:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1906:17:36"},"returnParameters":{"id":46780,"nodeType":"ParameterList","parameters":[],"src":"1933:0:36"},"scope":47075,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46824,"nodeType":"FunctionDefinition","src":"2083:169:36","nodes":[],"body":{"id":46823,"nodeType":"Block","src":"2127:125:36","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"expression":{"id":46810,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2160:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46811,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2164:6:36","memberName":"sender","nodeType":"MemberAccess","src":"2160:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46812,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46804,"src":"2172:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":46808,"name":"asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46723,"src":"2145:5:36","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$45584","typeString":"contract IERC20"}},"id":46809,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2151:8:36","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":45551,"src":"2145:14:36","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":46813,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2145:35:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5472616e73666572206661696c6564","id":46814,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2182:17:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""},"value":"Transfer failed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""}],"id":46807,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2137:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46815,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2137:63:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46816,"nodeType":"ExpressionStatement","src":"2137:63:36"},{"eventCall":{"arguments":[{"expression":{"id":46818,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2225:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46819,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2229:6:36","memberName":"sender","nodeType":"MemberAccess","src":"2225:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46820,"name":"_amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46804,"src":"2237:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":46817,"name":"withdrawn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46720,"src":"2215:9:36","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":46821,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2215:30:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46822,"nodeType":"EmitStatement","src":"2210:35:36"}]},"functionSelector":"2e1a7d4d","implemented":true,"kind":"function","modifiers":[],"name":"withdraw","nameLocation":"2092:8:36","parameters":{"id":46805,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46804,"mutability":"mutable","name":"_amount","nameLocation":"2109:7:36","nodeType":"VariableDeclaration","scope":46824,"src":"2101:15:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46803,"name":"uint256","nodeType":"ElementaryTypeName","src":"2101:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2100:17:36"},"returnParameters":{"id":46806,"nodeType":"ParameterList","parameters":[],"src":"2127:0:36"},"scope":47075,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46884,"nodeType":"FunctionDefinition","src":"2258:498:36","nodes":[],"body":{"id":46883,"nodeType":"Block","src":"2325:431:36","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46834,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46832,"name":"_collateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46828,"src":"2343:11:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":46833,"name":"_size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46826,"src":"2358:5:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2343:20:36","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e73756666696369656e7420636f6c6c61746572616c","id":46835,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2365:25:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_c9a6548b8b08f3e884692ff4b4c5cb58e1633771e97667c355d207e48aa0a8aa","typeString":"literal_string \"Insufficient collateral\""},"value":"Insufficient collateral"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_c9a6548b8b08f3e884692ff4b4c5cb58e1633771e97667c355d207e48aa0a8aa","typeString":"literal_string \"Insufficient collateral\""}],"id":46831,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2335:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46836,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2335:56:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46837,"nodeType":"ExpressionStatement","src":"2335:56:36"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46844,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46841,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46839,"name":"_size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46826,"src":"2410:5:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":46840,"name":"_collateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46828,"src":"2418:11:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2410:19:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":46842,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2409:21:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":46843,"name":"maxUtilizationPercentage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46729,"src":"2434:24:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2409:49:36","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"45786365656473206d6178696d756d207574696c697a6174696f6e2070657263656e74616765","id":46845,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2460:40:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_ee6be8ac2ec111af456f5a2bf63d4c12a5fe2f6a1c1f298415909b225bed9261","typeString":"literal_string \"Exceeds maximum utilization percentage\""},"value":"Exceeds maximum utilization percentage"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_ee6be8ac2ec111af456f5a2bf63d4c12a5fe2f6a1c1f298415909b225bed9261","typeString":"literal_string \"Exceeds maximum utilization percentage\""}],"id":46838,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2401:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46846,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2401:100:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46847,"nodeType":"ExpressionStatement","src":"2401:100:36"},{"expression":{"arguments":[{"arguments":[{"expression":{"id":46851,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2538:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46852,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2542:6:36","memberName":"sender","nodeType":"MemberAccess","src":"2538:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":46855,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"2558:4:36","typeDescriptions":{"typeIdentifier":"t_contract$_perp_$47075","typeString":"contract perp"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_perp_$47075","typeString":"contract perp"}],"id":46854,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2550:7:36","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46853,"name":"address","nodeType":"ElementaryTypeName","src":"2550:7:36","typeDescriptions":{}}},"id":46856,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2550:13:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46857,"name":"_collateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46828,"src":"2565:11:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":46849,"name":"asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46723,"src":"2519:5:36","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$45584","typeString":"contract IERC20"}},"id":46850,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2525:12:36","memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":45583,"src":"2519:18:36","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":46858,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2519:58:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5472616e73666572206661696c6564","id":46859,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2579:17:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""},"value":"Transfer failed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""}],"id":46848,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2511:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46860,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2511:86:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46861,"nodeType":"ExpressionStatement","src":"2511:86:36"},{"expression":{"id":46874,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":46862,"name":"positions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46734,"src":"2607:9:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Position_$46651_storage_$","typeString":"mapping(address => struct Position storage ref)"}},"id":46865,"indexExpression":{"expression":{"id":46863,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2617:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46864,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2621:6:36","memberName":"sender","nodeType":"MemberAccess","src":"2617:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"2607:21:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage","typeString":"struct Position storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":46867,"name":"PositionType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46639,"src":"2640:12:36","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_PositionType_$46639_$","typeString":"type(enum PositionType)"}},"id":46868,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2653:4:36","memberName":"LONG","nodeType":"MemberAccess","referencedDeclaration":46637,"src":"2640:17:36","typeDescriptions":{"typeIdentifier":"t_enum$_PositionType_$46639","typeString":"enum PositionType"}},{"id":46869,"name":"_size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46826,"src":"2659:5:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":46870,"name":"_collateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46828,"src":"2666:11:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"30","id":46871,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2679:1:36","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":46872,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2682:5:36","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_enum$_PositionType_$46639","typeString":"enum PositionType"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":46866,"name":"Position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46651,"src":"2631:8:36","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Position_$46651_storage_ptr_$","typeString":"type(struct Position storage pointer)"}},"id":46873,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2631:57:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_memory_ptr","typeString":"struct Position memory"}},"src":"2607:81:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage","typeString":"struct Position storage ref"}},"id":46875,"nodeType":"ExpressionStatement","src":"2607:81:36"},{"eventCall":{"arguments":[{"expression":{"id":46877,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2718:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46878,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2722:6:36","memberName":"sender","nodeType":"MemberAccess","src":"2718:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46879,"name":"_size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46826,"src":"2730:5:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":46880,"name":"_collateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46828,"src":"2737:11:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":46876,"name":"PositionOpened","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46676,"src":"2703:14:36","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":46881,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2703:46:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46882,"nodeType":"EmitStatement","src":"2698:51:36"}]},"functionSelector":"3012b05c","implemented":true,"kind":"function","modifiers":[],"name":"openPosition","nameLocation":"2267:12:36","parameters":{"id":46829,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46826,"mutability":"mutable","name":"_size","nameLocation":"2288:5:36","nodeType":"VariableDeclaration","scope":46884,"src":"2280:13:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46825,"name":"uint256","nodeType":"ElementaryTypeName","src":"2280:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46828,"mutability":"mutable","name":"_collateral","nameLocation":"2303:11:36","nodeType":"VariableDeclaration","scope":46884,"src":"2295:19:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46827,"name":"uint256","nodeType":"ElementaryTypeName","src":"2295:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2279:36:36"},"returnParameters":{"id":46830,"nodeType":"ParameterList","parameters":[],"src":"2325:0:36"},"scope":47075,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46946,"nodeType":"FunctionDefinition","src":"2765:630:36","nodes":[],"body":{"id":46945,"nodeType":"Block","src":"2860:535:36","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46894,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46892,"name":"_additionalCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46888,"src":"2878:21:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":46893,"name":"_additionalSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46886,"src":"2903:15:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2878:40:36","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e73756666696369656e7420636f6c6c61746572616c","id":46895,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2920:25:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_c9a6548b8b08f3e884692ff4b4c5cb58e1633771e97667c355d207e48aa0a8aa","typeString":"literal_string \"Insufficient collateral\""},"value":"Insufficient collateral"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_c9a6548b8b08f3e884692ff4b4c5cb58e1633771e97667c355d207e48aa0a8aa","typeString":"literal_string \"Insufficient collateral\""}],"id":46891,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2870:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46896,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2870:76:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46897,"nodeType":"ExpressionStatement","src":"2870:76:36"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46904,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":46901,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":46899,"name":"_additionalSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46886,"src":"2965:15:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":46900,"name":"_additionalCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46888,"src":"2983:21:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2965:39:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":46902,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2964:41:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":46903,"name":"maxUtilizationPercentage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46729,"src":"3009:24:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2964:69:36","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"45786365656473206d6178696d756d207574696c697a6174696f6e2070657263656e74616765","id":46905,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3035:40:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_ee6be8ac2ec111af456f5a2bf63d4c12a5fe2f6a1c1f298415909b225bed9261","typeString":"literal_string \"Exceeds maximum utilization percentage\""},"value":"Exceeds maximum utilization percentage"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_ee6be8ac2ec111af456f5a2bf63d4c12a5fe2f6a1c1f298415909b225bed9261","typeString":"literal_string \"Exceeds maximum utilization percentage\""}],"id":46898,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2956:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46906,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2956:120:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46907,"nodeType":"ExpressionStatement","src":"2956:120:36"},{"expression":{"arguments":[{"arguments":[{"expression":{"id":46911,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3113:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46912,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3117:6:36","memberName":"sender","nodeType":"MemberAccess","src":"3113:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":46915,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"3133:4:36","typeDescriptions":{"typeIdentifier":"t_contract$_perp_$47075","typeString":"contract perp"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_perp_$47075","typeString":"contract perp"}],"id":46914,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3125:7:36","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46913,"name":"address","nodeType":"ElementaryTypeName","src":"3125:7:36","typeDescriptions":{}}},"id":46916,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3125:13:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46917,"name":"_additionalCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46888,"src":"3140:21:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":46909,"name":"asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46723,"src":"3094:5:36","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$45584","typeString":"contract IERC20"}},"id":46910,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3100:12:36","memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":45583,"src":"3094:18:36","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":46918,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3094:68:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5472616e73666572206661696c6564","id":46919,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3164:17:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""},"value":"Transfer failed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""}],"id":46908,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3086:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46920,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3086:96:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46921,"nodeType":"ExpressionStatement","src":"3086:96:36"},{"expression":{"id":46928,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":46922,"name":"positions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46734,"src":"3192:9:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Position_$46651_storage_$","typeString":"mapping(address => struct Position storage ref)"}},"id":46925,"indexExpression":{"expression":{"id":46923,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3202:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46924,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3206:6:36","memberName":"sender","nodeType":"MemberAccess","src":"3202:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3192:21:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage","typeString":"struct Position storage ref"}},"id":46926,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3214:4:36","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":46644,"src":"3192:26:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":46927,"name":"_additionalSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46886,"src":"3222:15:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3192:45:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46929,"nodeType":"ExpressionStatement","src":"3192:45:36"},{"expression":{"id":46936,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":46930,"name":"positions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46734,"src":"3247:9:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Position_$46651_storage_$","typeString":"mapping(address => struct Position storage ref)"}},"id":46933,"indexExpression":{"expression":{"id":46931,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3257:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46932,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3261:6:36","memberName":"sender","nodeType":"MemberAccess","src":"3257:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3247:21:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage","typeString":"struct Position storage ref"}},"id":46934,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3269:10:36","memberName":"collateral","nodeType":"MemberAccess","referencedDeclaration":46646,"src":"3247:32:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":46935,"name":"_additionalCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46888,"src":"3283:21:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3247:57:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46937,"nodeType":"ExpressionStatement","src":"3247:57:36"},{"eventCall":{"arguments":[{"expression":{"id":46939,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3337:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46940,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3341:6:36","memberName":"sender","nodeType":"MemberAccess","src":"3337:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46941,"name":"_additionalSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46886,"src":"3349:15:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":46942,"name":"_additionalCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46888,"src":"3366:21:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":46938,"name":"PositionIncreased","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46692,"src":"3319:17:36","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":46943,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3319:69:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46944,"nodeType":"EmitStatement","src":"3314:74:36"}]},"functionSelector":"28b51920","implemented":true,"kind":"function","modifiers":[],"name":"increasePositionSize","nameLocation":"2774:20:36","parameters":{"id":46889,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46886,"mutability":"mutable","name":"_additionalSize","nameLocation":"2803:15:36","nodeType":"VariableDeclaration","scope":46946,"src":"2795:23:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46885,"name":"uint256","nodeType":"ElementaryTypeName","src":"2795:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":46888,"mutability":"mutable","name":"_additionalCollateral","nameLocation":"2828:21:36","nodeType":"VariableDeclaration","scope":46946,"src":"2820:29:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46887,"name":"uint256","nodeType":"ElementaryTypeName","src":"2820:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2794:56:36"},"returnParameters":{"id":46890,"nodeType":"ParameterList","parameters":[],"src":"2860:0:36"},"scope":47075,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":46981,"nodeType":"FunctionDefinition","src":"3400:326:36","nodes":[],"body":{"id":46980,"nodeType":"Block","src":"3476:250:36","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"expression":{"id":46954,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3513:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46955,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3517:6:36","memberName":"sender","nodeType":"MemberAccess","src":"3513:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"arguments":[{"id":46958,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"3533:4:36","typeDescriptions":{"typeIdentifier":"t_contract$_perp_$47075","typeString":"contract perp"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_perp_$47075","typeString":"contract perp"}],"id":46957,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3525:7:36","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":46956,"name":"address","nodeType":"ElementaryTypeName","src":"3525:7:36","typeDescriptions":{}}},"id":46959,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3525:13:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":46960,"name":"_additionalCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46948,"src":"3540:21:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":46952,"name":"asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46723,"src":"3494:5:36","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$45584","typeString":"contract IERC20"}},"id":46953,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3500:12:36","memberName":"transferFrom","nodeType":"MemberAccess","referencedDeclaration":45583,"src":"3494:18:36","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,address,uint256) external returns (bool)"}},"id":46961,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3494:68:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5472616e73666572206661696c6564","id":46962,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3564:17:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""},"value":"Transfer failed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""}],"id":46951,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3486:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46963,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3486:96:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46964,"nodeType":"ExpressionStatement","src":"3486:96:36"},{"expression":{"id":46971,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":46965,"name":"positions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46734,"src":"3592:9:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Position_$46651_storage_$","typeString":"mapping(address => struct Position storage ref)"}},"id":46968,"indexExpression":{"expression":{"id":46966,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3602:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46967,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3606:6:36","memberName":"sender","nodeType":"MemberAccess","src":"3602:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3592:21:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage","typeString":"struct Position storage ref"}},"id":46969,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3614:10:36","memberName":"collateral","nodeType":"MemberAccess","referencedDeclaration":46646,"src":"3592:32:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":46970,"name":"_additionalCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46948,"src":"3628:21:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3592:57:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":46972,"nodeType":"ExpressionStatement","src":"3592:57:36"},{"eventCall":{"arguments":[{"expression":{"id":46974,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3682:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3686:6:36","memberName":"sender","nodeType":"MemberAccess","src":"3682:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"30","id":46976,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3694:1:36","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"id":46977,"name":"_additionalCollateral","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46948,"src":"3697:21:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":46973,"name":"PositionIncreased","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46692,"src":"3664:17:36","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":46978,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3664:55:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46979,"nodeType":"EmitStatement","src":"3659:60:36"}]},"functionSelector":"71d0e6af","implemented":true,"kind":"function","modifiers":[],"name":"increasePositionCollateral","nameLocation":"3409:26:36","parameters":{"id":46949,"nodeType":"ParameterList","parameters":[{"constant":false,"id":46948,"mutability":"mutable","name":"_additionalCollateral","nameLocation":"3444:21:36","nodeType":"VariableDeclaration","scope":46981,"src":"3436:29:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":46947,"name":"uint256","nodeType":"ElementaryTypeName","src":"3436:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3435:31:36"},"returnParameters":{"id":46950,"nodeType":"ParameterList","parameters":[],"src":"3476:0:36"},"scope":47075,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47034,"nodeType":"FunctionDefinition","src":"3731:443:36","nodes":[],"body":{"id":47033,"nodeType":"Block","src":"3765:409:36","nodes":[],"statements":[{"assignments":[46986],"declarations":[{"constant":false,"id":46986,"mutability":"mutable","name":"position","nameLocation":"3792:8:36","nodeType":"VariableDeclaration","scope":47033,"src":"3775:25:36","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage_ptr","typeString":"struct Position"},"typeName":{"id":46985,"nodeType":"UserDefinedTypeName","pathNode":{"id":46984,"name":"Position","nameLocations":["3775:8:36"],"nodeType":"IdentifierPath","referencedDeclaration":46651,"src":"3775:8:36"},"referencedDeclaration":46651,"src":"3775:8:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage_ptr","typeString":"struct Position"}},"visibility":"internal"}],"id":46991,"initialValue":{"baseExpression":{"id":46987,"name":"positions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46734,"src":"3803:9:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Position_$46651_storage_$","typeString":"mapping(address => struct Position storage ref)"}},"id":46990,"indexExpression":{"expression":{"id":46988,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"3813:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":46989,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3817:6:36","memberName":"sender","nodeType":"MemberAccess","src":"3813:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3803:21:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage","typeString":"struct Position storage ref"}},"nodeType":"VariableDeclarationStatement","src":"3775:49:36"},{"expression":{"arguments":[{"expression":{"id":46993,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46986,"src":"3842:8:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage_ptr","typeString":"struct Position storage pointer"}},"id":46994,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3851:8:36","memberName":"isClosed","nodeType":"MemberAccess","referencedDeclaration":46650,"src":"3842:17:36","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"506f736974696f6e206e6f7420636c6f736564","id":46995,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3861:21:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_9dc99c0309e50885f08d171bcfa356cb2960fc7beee25dd511134372d35b68c8","typeString":"literal_string \"Position not closed\""},"value":"Position not closed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_9dc99c0309e50885f08d171bcfa356cb2960fc7beee25dd511134372d35b68c8","typeString":"literal_string \"Position not closed\""}],"id":46992,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3834:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":46996,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3834:49:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":46997,"nodeType":"ExpressionStatement","src":"3834:49:36"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_enum$_PositionType_$46639","typeString":"enum PositionType"},"id":47003,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":46999,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46986,"src":"3901:8:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage_ptr","typeString":"struct Position storage pointer"}},"id":47000,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3910:12:36","memberName":"positionType","nodeType":"MemberAccess","referencedDeclaration":46642,"src":"3901:21:36","typeDescriptions":{"typeIdentifier":"t_enum$_PositionType_$46639","typeString":"enum PositionType"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":47001,"name":"PositionType","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46639,"src":"3926:12:36","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_PositionType_$46639_$","typeString":"type(enum PositionType)"}},"id":47002,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3939:5:36","memberName":"SHORT","nodeType":"MemberAccess","referencedDeclaration":46638,"src":"3926:18:36","typeDescriptions":{"typeIdentifier":"t_enum$_PositionType_$46639","typeString":"enum PositionType"}},"src":"3901:43:36","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"506f736974696f6e206e6f742073686f7274","id":47004,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3946:20:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_0f09ec43b2268044f5625361c5fb401c3577b01c20d31975d8696d5fe3a57083","typeString":"literal_string \"Position not short\""},"value":"Position not short"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_0f09ec43b2268044f5625361c5fb401c3577b01c20d31975d8696d5fe3a57083","typeString":"literal_string \"Position not short\""}],"id":46998,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3893:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":47005,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3893:74:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47006,"nodeType":"ExpressionStatement","src":"3893:74:36"},{"expression":{"arguments":[{"arguments":[{"expression":{"id":47010,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4000:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47011,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4004:6:36","memberName":"sender","nodeType":"MemberAccess","src":"4000:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":47012,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46986,"src":"4012:8:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage_ptr","typeString":"struct Position storage pointer"}},"id":47013,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4021:10:36","memberName":"collateral","nodeType":"MemberAccess","referencedDeclaration":46646,"src":"4012:19:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":47008,"name":"asset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46723,"src":"3985:5:36","typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$45584","typeString":"contract IERC20"}},"id":47009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3991:8:36","memberName":"transfer","nodeType":"MemberAccess","referencedDeclaration":45551,"src":"3985:14:36","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function (address,uint256) external returns (bool)"}},"id":47014,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3985:47:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5472616e73666572206661696c6564","id":47015,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4034:17:36","typeDescriptions":{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""},"value":"Transfer failed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_25adaa6d082ce15f901e0d8a3d393e7462ef9edf2e6bc8321fa14d1615b6fc51","typeString":"literal_string \"Transfer failed\""}],"id":47007,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3977:7:36","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":47016,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3977:75:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47017,"nodeType":"ExpressionStatement","src":"3977:75:36"},{"expression":{"id":47022,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"4062:28:36","subExpression":{"baseExpression":{"id":47018,"name":"positions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46734,"src":"4069:9:36","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_Position_$46651_storage_$","typeString":"mapping(address => struct Position storage ref)"}},"id":47021,"indexExpression":{"expression":{"id":47019,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4079:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47020,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4083:6:36","memberName":"sender","nodeType":"MemberAccess","src":"4079:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4069:21:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage","typeString":"struct Position storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47023,"nodeType":"ExpressionStatement","src":"4062:28:36"},{"eventCall":{"arguments":[{"expression":{"id":47025,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"4120:3:36","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":47026,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4124:6:36","memberName":"sender","nodeType":"MemberAccess","src":"4120:10:36","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":47027,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46986,"src":"4132:8:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage_ptr","typeString":"struct Position storage pointer"}},"id":47028,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4141:4:36","memberName":"size","nodeType":"MemberAccess","referencedDeclaration":46644,"src":"4132:13:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":47029,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46986,"src":"4147:8:36","typeDescriptions":{"typeIdentifier":"t_struct$_Position_$46651_storage_ptr","typeString":"struct Position storage pointer"}},"id":47030,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4156:10:36","memberName":"collateral","nodeType":"MemberAccess","referencedDeclaration":46646,"src":"4147:19:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":47024,"name":"PositionClosed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46684,"src":"4105:14:36","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,uint256,uint256)"}},"id":47031,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4105:62:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":47032,"nodeType":"EmitStatement","src":"4100:67:36"}]},"functionSelector":"c393d0e3","implemented":true,"kind":"function","modifiers":[],"name":"closePosition","nameLocation":"3740:13:36","parameters":{"id":46982,"nodeType":"ParameterList","parameters":[],"src":"3753:2:36"},"returnParameters":{"id":46983,"nodeType":"ParameterList","parameters":[],"src":"3765:0:36"},"scope":47075,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":47051,"nodeType":"FunctionDefinition","src":"4180:198:36","nodes":[],"body":{"id":47050,"nodeType":"Block","src":"4230:148:36","nodes":[],"statements":[{"assignments":[null,47040,null,null,null],"declarations":[null,{"constant":false,"id":47040,"mutability":"mutable","name":"price","nameLocation":"4299:5:36","nodeType":"VariableDeclaration","scope":47050,"src":"4295:9:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":47039,"name":"int","nodeType":"ElementaryTypeName","src":"4295:3:36","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},null,null,null],"id":47044,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":47041,"name":"priceFeed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46658,"src":"4313:9:36","typeDescriptions":{"typeIdentifier":"t_contract$_AggregatorV3Interface_$45","typeString":"contract AggregatorV3Interface"}},"id":47042,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4323:15:36","memberName":"latestRoundData","nodeType":"MemberAccess","referencedDeclaration":44,"src":"4313:25:36","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint80_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint80_$","typeString":"function () view external returns (uint80,int256,uint256,uint256,uint80)"}},"id":47043,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4313:27:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint80_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint80_$","typeString":"tuple(uint80,int256,uint256,uint256,uint80)"}},"nodeType":"VariableDeclarationStatement","src":"4292:48:36"},{"expression":{"arguments":[{"id":47047,"name":"price","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47040,"src":"4365:5:36","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":47046,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4357:7:36","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":47045,"name":"uint256","nodeType":"ElementaryTypeName","src":"4357:7:36","typeDescriptions":{}}},"id":47048,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4357:14:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":47038,"id":47049,"nodeType":"Return","src":"4350:21:36"}]},"functionSelector":"98d5fdca","implemented":true,"kind":"function","modifiers":[],"name":"getPrice","nameLocation":"4189:8:36","parameters":{"id":47035,"nodeType":"ParameterList","parameters":[],"src":"4197:2:36"},"returnParameters":{"id":47038,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47037,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47051,"src":"4221:7:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47036,"name":"uint256","nodeType":"ElementaryTypeName","src":"4221:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4220:9:36"},"scope":47075,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":47066,"nodeType":"FunctionDefinition","src":"4384:134:36","nodes":[],"body":{"id":47065,"nodeType":"Block","src":"4463:55:36","nodes":[],"statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47063,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":47061,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":47058,"name":"_size","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47053,"src":"4480:5:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":47059,"name":"getPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":47051,"src":"4488:8:36","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":47060,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4488:10:36","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4480:18:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":47062,"name":"multiplier","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46726,"src":"4501:10:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4480:31:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":47057,"id":47064,"nodeType":"Return","src":"4473:38:36"}]},"functionSelector":"b2d62421","implemented":true,"kind":"function","modifiers":[],"name":"getCollateralRequirement","nameLocation":"4393:24:36","parameters":{"id":47054,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47053,"mutability":"mutable","name":"_size","nameLocation":"4426:5:36","nodeType":"VariableDeclaration","scope":47066,"src":"4418:13:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47052,"name":"uint256","nodeType":"ElementaryTypeName","src":"4418:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4417:15:36"},"returnParameters":{"id":47057,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47056,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47066,"src":"4454:7:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47055,"name":"uint256","nodeType":"ElementaryTypeName","src":"4454:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4453:9:36"},"scope":47075,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":47074,"nodeType":"FunctionDefinition","src":"4524:80:36","nodes":[],"body":{"id":47073,"nodeType":"Block","src":"4579:25:36","nodes":[],"statements":[{"expression":{"hexValue":"32","id":47071,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4596:1:36","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"functionReturnParameters":47070,"id":47072,"nodeType":"Return","src":"4589:8:36"}]},"functionSelector":"aeb71b07","implemented":true,"kind":"function","modifiers":[],"name":"getTestNumber","nameLocation":"4533:13:36","parameters":{"id":47067,"nodeType":"ParameterList","parameters":[],"src":"4546:2:36"},"returnParameters":{"id":47070,"nodeType":"ParameterList","parameters":[{"constant":false,"id":47069,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":47074,"src":"4570:7:36","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":47068,"name":"uint256","nodeType":"ElementaryTypeName","src":"4570:7:36","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4569:9:36"},"scope":47075,"stateMutability":"pure","virtual":false,"visibility":"public"}],"abstract":false,"baseContracts":[],"canonicalName":"perp","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[47075],"name":"perp","nameLocation":"506:4:36","scope":47076,"usedErrors":[46664,46666,46668],"usedEvents":[46676,46684,46692,46700,46708,46714,46720]}],"license":"MIT"},"id":36}